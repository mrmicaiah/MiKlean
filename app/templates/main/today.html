{% extends "base.html" %}
{% block title %}Today - MiKlean{% endblock %}

{% block header_title %}Today{% endblock %}
{% block header_subtitle %}
<p class="text-sm font-semibold text-gray-700 mt-1">{{ today.strftime('%A, %B %d') }}</p>
{% endblock %}

{% block header_actions %}
<a href="{{ url_for('clients.new_client') }}" class="bg-white text-gray-900 font-bold px-4 py-2 rounded-full text-sm">
    + Add
</a>
{% endblock %}

{% block content %}
{% if visits %}
<p class="text-xs font-bold text-gray-500 uppercase tracking-wide mb-3">{{ visits|length }} VISIT{{ 's' if visits|length != 1 else '' }} TODAY</p>

<div class="space-y-3">
    {% for visit in visits %}
    <a href="{{ url_for('visits.view_visit', visit_id=visit.id) }}" class="card block">
        <div class="flex justify-between items-start">
            <h3 class="text-lg font-bold text-gray-900">{{ visit.clients.name }}</h3>
            <span class="badge badge-{{ visit.status }}">{{ visit.status|capitalize }}</span>
        </div>
        {% if visit.scheduled_time %}
        <p class="text-sm text-gray-600 mt-1">ğŸ• {{ visit.scheduled_time|time12 }}</p>
        {% endif %}
        <p class="text-sm text-gray-600 mt-1">ğŸ“ {{ visit.clients.address|truncate(40) }}</p>
    </a>
    {% endfor %}
</div>
{% else %}
<div class="text-center py-12">
    <p class="text-4xl mb-4">âœ¨</p>
    <p class="text-gray-600 font-semibold">No visits scheduled for today</p>
    <p class="text-sm text-gray-500 mt-2">Enjoy your day off!</p>
</div>
{% endif %}

<!-- Quick Actions -->
<div class="mt-6 space-y-3">
    <a href="{{ url_for('clients.new_client') }}" 
       class="block w-full text-center bg-yellow-primary text-gray-900 font-bold py-4 rounded-xl">
        + Add New Client
    </a>
    <a href="{{ url_for('clients.list_clients') }}" 
       class="block w-full text-center py-4 border-2 border-gray-300 rounded-xl text-gray-600 font-semibold hover:border-yellow-primary hover:text-gray-900 transition">
        View All Clients
    </a>
</div>
{% endblock %}
